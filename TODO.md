### TODO:
1. Function-ify everything.
2. Code optimizations
3. Docstrings
4. Testing (use fake HTML)